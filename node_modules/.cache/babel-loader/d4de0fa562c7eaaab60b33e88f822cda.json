{"remainingRequest":"C:\\dialogflow-web-v2-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\dialogflow-web-v2-master\\node_modules\\babel-loader\\lib\\index.js!C:\\dialogflow-web-v2-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\dialogflow-web-v2-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dialogflow-web-v2-master\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dialogflow-web-v2-master\\src\\App.vue","mtime":1612196699000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkM6L2RpYWxvZ2Zsb3ctd2ViLXYyLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9kaWFsb2dmbG93LXdlYi12Mi1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFdlbGNvbWVWaWV3IGZyb20gJ0Avdmlld3MvV2VsY29tZVZpZXcudnVlJzsKaW1wb3J0IEVycm9yTWVzc2FnZSBmcm9tICdAL2NvbXBvbmVudHMvRXJyb3JNZXNzYWdlLnZ1ZSc7CmltcG9ydCBUb3BIZWFkIGZyb20gJ0AvY29tcG9uZW50cy9Ub3BIZWFkLnZ1ZSc7CmltcG9ydCBUb3BIZWFkQWN0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9Ub3BIZWFkQWN0aW9uLnZ1ZSc7CmltcG9ydCBDaGF0RmllbGQgZnJvbSAnQC9jb21wb25lbnRzL0NoYXRGaWVsZC52dWUnOwppbXBvcnQgUmljaENvbXBvbmVudCBmcm9tICdAL2NvbXBvbmVudHMvUmljaENvbXBvbmVudC52dWUnOwppbXBvcnQgUmljaEJ1YmJsZSBmcm9tICdAL2NvbXBvbmVudHMvUmljaEJ1YmJsZS52dWUnOwppbXBvcnQgUmljaENhcmQgZnJvbSAnQC9jb21wb25lbnRzL1JpY2hDYXJkLnZ1ZSc7CmltcG9ydCBSaWNoQ2FyZEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvUmljaENhcmRCdXR0b24udnVlJzsKaW1wb3J0IFJpY2hDYXJvdXNlbCBmcm9tICdAL2NvbXBvbmVudHMvUmljaENhcm91c2VsLnZ1ZSc7CmltcG9ydCBSaWNoTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvUmljaExpc3QudnVlJzsKaW1wb3J0IFJpY2hMaXN0SXRlbSBmcm9tICdAL2NvbXBvbmVudHMvUmljaExpc3RJdGVtLnZ1ZSc7CmltcG9ydCBSaWNoUGljdHVyZSBmcm9tICdAL2NvbXBvbmVudHMvUmljaFBpY3R1cmUudnVlJzsKaW1wb3J0IFJpY2hNZWRpYSBmcm9tICdAL2NvbXBvbmVudHMvUmljaE1lZGlhLnZ1ZSc7CmltcG9ydCBSaWNoVGFibGVDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9SaWNoVGFibGVDYXJkLnZ1ZSc7CmltcG9ydCBSaWNoU3VnZ2VzaW9uIGZyb20gJ0AvY29tcG9uZW50cy9SaWNoU3VnZ2VzdGlvbi52dWUnOwppbXBvcnQgKiBhcyB1dWlkdjEgZnJvbSAndXVpZC92MSc7CmltcG9ydCB7IENsaWVudCB9IGZyb20gJ2RpYWxvZ2Zsb3ctZ2F0ZXdheSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBXZWxjb21lVmlldzogV2VsY29tZVZpZXcsCiAgICBFcnJvck1lc3NhZ2U6IEVycm9yTWVzc2FnZSwKICAgIFRvcEhlYWQ6IFRvcEhlYWQsCiAgICBUb3BIZWFkQWN0aW9uOiBUb3BIZWFkQWN0aW9uLAogICAgQ2hhdEZpZWxkOiBDaGF0RmllbGQsCiAgICBSaWNoQ29tcG9uZW50OiBSaWNoQ29tcG9uZW50LAogICAgUmljaEJ1YmJsZTogUmljaEJ1YmJsZSwKICAgIFJpY2hDYXJkOiBSaWNoQ2FyZCwKICAgIFJpY2hDYXJkQnV0dG9uOiBSaWNoQ2FyZEJ1dHRvbiwKICAgIFJpY2hDYXJvdXNlbDogUmljaENhcm91c2VsLAogICAgUmljaExpc3Q6IFJpY2hMaXN0LAogICAgUmljaExpc3RJdGVtOiBSaWNoTGlzdEl0ZW0sCiAgICBSaWNoUGljdHVyZTogUmljaFBpY3R1cmUsCiAgICBSaWNoTWVkaWE6IFJpY2hNZWRpYSwKICAgIFJpY2hUYWJsZUNhcmQ6IFJpY2hUYWJsZUNhcmQsCiAgICBSaWNoU3VnZ2VzaW9uOiBSaWNoU3VnZ2VzaW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWdlbnQ6IG51bGwsCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICBzZXNzaW9uOiAnJywKICAgICAgbXV0ZWQ6IHRydWUsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgY2xpZW50OiBuZXcgQ2xpZW50KHRoaXMuY29uZmlnLmVuZHBvaW50KSwKICAgICAgYXVkaW86IG5ldyBBdWRpbygpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qIFRoZSBjb2RlIGJlbG93IGlzIHVzZWQgdG8gZXh0cmFjdCBzdWdnZXN0aW9ucyBmcm9tIGxhc3QgbWVzc2FnZSwgdG8gZGlzcGxheSBpdCBvbiBDaGF0SW5wdXQgKi8KICAgIHN1Z2dlc3Rpb25zOiBmdW5jdGlvbiBzdWdnZXN0aW9ucygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBsYXN0X21lc3NhZ2UgPSBfdGhpcy5tZXNzYWdlc1tfdGhpcy5tZXNzYWdlcy5sZW5ndGggLSAxXTsKICAgICAgICAgIHZhciB0ZXh0X3N1Z2dlc3Rpb25zID0gW107CiAgICAgICAgICB2YXIgbGlua19zdWdnZXN0aW9ucyA9IFtdOwogICAgICAgICAgLyogRGlhbG9nZmxvdyBTdWdnZXN0aW9ucyAqLwoKICAgICAgICAgIGZvciAodmFyIGNvbXBvbmVudCBpbiBsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlcykgewogICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5zdWdnZXN0aW9ucykgdGV4dF9zdWdnZXN0aW9ucy5wdXNoLmFwcGx5KHRleHRfc3VnZ2VzdGlvbnMsIF90b0NvbnN1bWFibGVBcnJheShsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnN1Z2dlc3Rpb25zLnN1Z2dlc3Rpb25zLm1hcChmdW5jdGlvbiAoc3VnZ2VzdGlvbikgewogICAgICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9uLnRpdGxlOwogICAgICAgICAgICB9KSkpOwogICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5saW5rT3V0U3VnZ2VzdGlvbikgbGlua19zdWdnZXN0aW9ucy5wdXNoKGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ubGlua091dFN1Z2dlc3Rpb24pOwogICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5xdWlja1JlcGxpZXMpIHRleHRfc3VnZ2VzdGlvbnMucHVzaC5hcHBseSh0ZXh0X3N1Z2dlc3Rpb25zLCBfdG9Db25zdW1hYmxlQXJyYXkobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5xdWlja1JlcGxpZXMucXVpY2tSZXBsaWVzKSk7CgogICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5wYXlsb2FkICYmIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucGF5bG9hZC5yaWNoQ29udGVudCkgewogICAgICAgICAgICAgIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucGF5bG9hZC5yaWNoQ29udGVudC5mb3JFYWNoKGZ1bmN0aW9uIChzdGFjaykgewogICAgICAgICAgICAgICAgdmFyIGNoaXBzID0gc3RhY2suZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09ICdjaGlwcyc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChjaGlwcykgbGlua19zdWdnZXN0aW9ucy5wdXNoLmFwcGx5KGxpbmtfc3VnZ2VzdGlvbnMsIF90b0NvbnN1bWFibGVBcnJheShjaGlwcy5vcHRpb25zKSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC8qIEdvb2dsZSBTdWdnZXN0aW9ucyAqLwoKCiAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkICYmIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2NvbXBvbmVudCBpbiBsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlKSB7CiAgICAgICAgICAgICAgaWYgKGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGVbX2NvbXBvbmVudF0uc3VnZ2VzdGlvbnMpIHRleHRfc3VnZ2VzdGlvbnMucHVzaC5hcHBseSh0ZXh0X3N1Z2dlc3Rpb25zLCBfdG9Db25zdW1hYmxlQXJyYXkobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtfY29tcG9uZW50XS5zdWdnZXN0aW9ucy5tYXAoZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9uLnRpdGxlOwogICAgICAgICAgICAgIH0pKSk7CiAgICAgICAgICAgICAgaWYgKGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGVbX2NvbXBvbmVudF0ubGlua091dFN1Z2dlc3Rpb24pIGxpbmtfc3VnZ2VzdGlvbnMucHVzaChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW19jb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHY6IHsKICAgICAgICAgICAgICB0ZXh0X3N1Z2dlc3Rpb25zOiB0ZXh0X3N1Z2dlc3Rpb25zLAogICAgICAgICAgICAgIGxpbmtfc3VnZ2VzdGlvbnM6IGxpbmtfc3VnZ2VzdGlvbnMKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9KCk7CgogICAgICAgIGlmIChfdHlwZW9mKF9yZXQpID09PSAib2JqZWN0IikgcmV0dXJuIF9yZXQudjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICB0ZXh0X3N1Z2dlc3Rpb25zOiB0aGlzLmNvbmZpZy5zdGFydF9zdWdnZXN0aW9ucyAvLyA8LSBpZiBubyBtZXNzYWdlcyBhcmUgcHJlc2VudCwgcmV0dXJuIHN0YXJ0X3N1Z2dlc3Rpb25zLCBmcm9tIGNvbmZpZy5qcyB0byBoZWxwIHVzZXIgZmlndXJlIG91dCB3aGF0IGhlIGNhbiBkbyB3aXRoIHlvdXIgYXBwbGljYXRpb24KCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLyogVGhpcyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQsIHdoZW4gbmV3IG1lc3NhZ2VzIGFycml2ZSAqLwogICAgbWVzc2FnZXM6IGZ1bmN0aW9uIG1lc3NhZ2VzKF9tZXNzYWdlcykgewogICAgICBpZiAodGhpcy5oaXN0b3J5KCkpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ21lc3NhZ2VfaGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KF9tZXNzYWdlcykpOyAvLyA8LSBTYXZlIGhpc3RvcnkgaWYgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZAogICAgfSwKCiAgICAvKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCwgd2hlbiByZXF1ZXN0IGlzIHN0YXJ0ZWQgb3IgZmluaXNoZWQgKi8KICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwJyk7IC8vIDwtIFdlIG5lZWQgdG8gc2Nyb2xsIGRvd24gI2FwcCwgdG8gcHJldmVudCB0aGUgd2hvbGUgcGFnZSBqdW1waW5nIHRvIGJvdHRvbSwgd2hlbiB1c2luZyBpbiBpZnJhbWUKCiAgICAgICAgaWYgKGFwcC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZScpKSB7CiAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFwcC5xdWVyeVNlbGVjdG9yQWxsKCcjbWVzc2FnZScpW2FwcC5xdWVyeVNlbGVjdG9yQWxsKCcjbWVzc2FnZScpLmxlbmd0aCAtIDFdLm9mZnNldFRvcCAtIDcwOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICAgICAgdG9wOiBtZXNzYWdlLAogICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgMik7IC8vIDwtIHdhaXQgZm9yIHJlbmRlciAodGltZW91dCkgYW5kIHRoZW4gc21vb3RobHkgc2Nyb2xsICNhcHAgZG93biB0byB0aGUgbGFzdCBtZXNzYWdlCiAgICB9LAoKICAgIC8qIElmIG11dGVkLCBzdG9wIHBsYXlpbmcgZmVlZGJhY2sgKi8KICAgIG11dGVkOiBmdW5jdGlvbiBtdXRlZChfbXV0ZWQpIHsKICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IF9tdXRlZDsKICAgICAgaWYgKF9tdXRlZCkgdGhpcy5zdG9wX2ZlZWRiYWNrKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgLyogSWYgaGlzdG9yeSBpcyBlbmFibGVkLCB0aGUgbWVzc2FnZXMgYXJlIHJldHJpZXZlZCBmcm9tIHNlc3Npb25TdG9yYWdlICovCiAgICBpZiAodGhpcy5oaXN0b3J5KCkgJiYgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWVzc2FnZV9oaXN0b3J5JykgIT09IG51bGwpIHsKICAgICAgdGhpcy5tZXNzYWdlcyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWVzc2FnZV9oaXN0b3J5JykpOwogICAgfQogICAgLyogU2Vzc2lvbiBzaG91bGQgYmUgcGVyc2lzdGVudCAoaW4gY2FzZSBvZiBwYWdlIHJlbG9hZCwgdGhlIGNvbnRleHQgc2hvdWxkIHN0YXkpICovCgoKICAgIGlmICh0aGlzLmhpc3RvcnkoKSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uJykgIT09IG51bGwpIHsKICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zZXNzaW9uID0gdXVpZHYxKCk7CiAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Vzc2lvbicsIHRoaXMuc2Vzc2lvbik7CiAgICB9CiAgICAvKiBDYWNoZSBBZ2VudCAodGhpcyB3aWxsIHNhdmUgYmFuZHdpdGgpICovCgoKICAgIGlmICh0aGlzLmhpc3RvcnkoKSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhZ2VudCcpICE9PSBudWxsKSB7CiAgICAgIHRoaXMuYWdlbnQgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FnZW50JykpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jbGllbnQuZ2V0KCkudGhlbihmdW5jdGlvbiAoYWdlbnQpIHsKICAgICAgICBfdGhpczIuYWdlbnQgPSBhZ2VudDsKICAgICAgICBpZiAoX3RoaXMyLmhpc3RvcnkoKSkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWdlbnQnLCBKU09OLnN0cmluZ2lmeShhZ2VudCkpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIuZXJyb3IgPSBlcnJvci5tZXNzYWdlOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoc3VibWlzc2lvbikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciByZXF1ZXN0OwogICAgICAvKiBUZXh0IHJlcXVlc3QgKi8KCiAgICAgIGlmIChzdWJtaXNzaW9uLnRleHQpIHsKICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLAogICAgICAgICAgcXVlcnlJbnB1dDogewogICAgICAgICAgICB0ZXh0OiB7CiAgICAgICAgICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LAogICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5sYW5nKCkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgICAgLyogQXVkaW8gcmVxdWVzdCAqLwogICAgICBlbHNlIGlmIChzdWJtaXNzaW9uLmF1ZGlvKSB7CiAgICAgICAgICB0aGlzLm11dGVkID0gZmFsc2U7CiAgICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sCiAgICAgICAgICAgIHF1ZXJ5SW5wdXQ6IHsKICAgICAgICAgICAgICBhdWRpb0NvbmZpZzogewogICAgICAgICAgICAgICAgYXVkaW9FbmNvZGluZzogJ0FVRElPX0VOQ09ESU5HX1VOU1BFQ0lGSUVEJywKICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5sYW5nKCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlucHV0QXVkaW86IHN1Ym1pc3Npb24uYXVkaW8KICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgdGhpcy5zdG9wX2ZlZWRiYWNrKCk7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAvKiBTZW5kIHRoZSByZXF1ZXN0IHRvIGVuZHBvaW50ICovCgogICAgICB0aGlzLmNsaWVudC5zZW5kKHJlcXVlc3QpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLm1lc3NhZ2VzLnB1c2gocmVzcG9uc2UpOwoKICAgICAgICBfdGhpczMuaGFuZGxlKHJlc3BvbnNlKTsgLy8gPC0gdHJpZ2dlciB0aGUgaGFuZGxlIGZ1bmN0aW9uIChleHBsYW5hdGlvbiBiZWxvdykKCgogICAgICAgIGlmIChfdGhpczMuZGVidWcoKSkgY29uc29sZS5sb2cocmVzcG9uc2UpOyAvLyA8LSBsb2cgcmVzcG9uc2VzIGluIGRldmVsb3BtZW50IG1vZGUKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLmVycm9yID0gZXJyb3IubWVzc2FnZTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKHJlc3BvbnNlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLyogSGFuZGxlIGRpYWxvZyBlbmQgKi8KICAgICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmRpYWdub3N0aWNJbmZvICYmIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmRpYWdub3N0aWNJbmZvLmVuZF9jb252ZXJzYXRpb24pIHsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0Lm1pY3JvcGhvbmUgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LnNob3VsZF9saXN0ZW4gPSBmYWxzZTsKICAgICAgfQogICAgICAvKiBTcGVlY2ggb3V0cHV0ICovCgoKICAgICAgaWYgKHJlc3BvbnNlLm91dHB1dEF1ZGlvKSB7CiAgICAgICAgLyogRGV0ZWN0IE1JTUUgdHlwZSAob3IgZmFsbGJhY2sgdG8gZGVmYXVsdCkgKi8KICAgICAgICB2YXIgbWltZSA9IHRoaXMuY29uZmlnLmNvZGVjc1tyZXNwb25zZS5vdXRwdXRBdWRpb0NvbmZpZy5hdWRpb0VuY29kaW5nXSB8fCB0aGlzLmNvbmZpZy5jb2RlY3MuT1VUUFVUX0FVRElPX0VOQ09ESU5HX1VOU1BFQ0lGSUVEOwogICAgICAgIHRoaXMuYXVkaW8uc3JjID0gImRhdGE6Ii5jb25jYXQobWltZSwgIjtiYXNlNjQsIikuY29uY2F0KHJlc3BvbnNlLm91dHB1dEF1ZGlvKTsKCiAgICAgICAgdGhpcy5hdWRpby5vbmVuZGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5pbnB1dC5saXN0ZW4oKTsKICAgICAgICB9OwoKICAgICAgICBpZiAoIXRoaXMubXV0ZWQpIHRoaXMuYXVkaW8ucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB0ZXh0ID0gJyc7IC8vIDwtIGluaXQgYSB0ZXh0IHZhcmlhYmxlCgogICAgICAgIC8qIERpYWxvZ2Zsb3cgVGV4dC9TaW1wbGVSZXNwb25zZXMgKi8KCiAgICAgICAgZm9yICh2YXIgY29tcG9uZW50IGluIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXMpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0udGV4dCkgdGV4dCArPSAiIi5jb25jYXQocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnRleHQudGV4dFswXSwgIi4gIik7CiAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlcyAmJiByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0uc2ltcGxlUmVzcG9uc2VzLnNpbXBsZVJlc3BvbnNlc1swXS50ZXh0VG9TcGVlY2gpIHRleHQgKz0gIiIuY29uY2F0KHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5zaW1wbGVSZXNwb25zZXMuc2ltcGxlUmVzcG9uc2VzWzBdLnRleHRUb1NwZWVjaCwgIi4gIik7CiAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnJibVRleHQpIHRleHQgKz0gIiIuY29uY2F0KHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5yYm1UZXh0LnRleHQsICIuICIpOwogICAgICAgIH0KICAgICAgICAvKiBBY3Rpb25zIG9uIEdvb2dsZSBTaW1wbGUgcmVzcG9uc2UgKi8KCgogICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZCAmJiByZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUpIHsKICAgICAgICAgIGZvciAodmFyIF9jb21wb25lbnQyIGluIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZS5yaWNoUmVzcG9uc2UuaXRlbXMpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZS5yaWNoUmVzcG9uc2UuaXRlbXNbX2NvbXBvbmVudDJdLnNpbXBsZVJlc3BvbnNlICYmIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZS5yaWNoUmVzcG9uc2UuaXRlbXNbX2NvbXBvbmVudDJdLnNpbXBsZVJlc3BvbnNlLnRleHRUb1NwZWVjaCkgdGV4dCArPSAiIi5jb25jYXQocmVzcG9uc2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlLnJpY2hSZXNwb25zZS5pdGVtc1tfY29tcG9uZW50Ml0uc2ltcGxlUmVzcG9uc2UudGV4dFRvU3BlZWNoLCAiLiAiKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzcGVlY2ggPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpOwogICAgICAgIHNwZWVjaC52b2ljZVVSSSA9IHRoaXMuY29uZmlnLnZvaWNlOwogICAgICAgIHNwZWVjaC5sYW5nID0gdGhpcy5sYW5nKCk7CgogICAgICAgIHNwZWVjaC5vbmVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuJHJlZnMuaW5wdXQubGlzdGVuKCk7CiAgICAgICAgfTsKCiAgICAgICAgaWYgKCF0aGlzLm11dGVkKSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLnNwZWFrKHNwZWVjaCk7IC8vIDwtIGlmIGFwcCBpcyBub3QgbXV0ZWQsIHNwZWFrIG91dCB0aGUgc3BlZWNoCiAgICAgIH0KICAgIH0sCgogICAgLyogU3RvcCBhdWRpbyBzcGVlY2gvcGxheWJhY2sgKi8KICAgIHN0b3BfZmVlZGJhY2s6IGZ1bmN0aW9uIHN0b3BfZmVlZGJhY2soKSB7CiAgICAgIGlmICh3aW5kb3cuc3BlZWNoU3ludGhlc2lzKSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpOwogICAgICBpZiAodGhpcy5hdWRpbyAmJiAhdGhpcy5hdWRpby5wYXVzZWQpIHRoaXMuYXVkaW8ucGF1c2UoKTsKICAgIH0KICB9Cn07"},null]}