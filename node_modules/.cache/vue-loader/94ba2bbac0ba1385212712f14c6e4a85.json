{"remainingRequest":"C:\\dialogflow-web-v2-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dialogflow-web-v2-master\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dialogflow-web-v2-master\\src\\App.vue","mtime":1612196699000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dialogflow-web-v2-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBXZWxjb21lVmlldyBmcm9tICdAL3ZpZXdzL1dlbGNvbWVWaWV3LnZ1ZScKCmltcG9ydCBFcnJvck1lc3NhZ2UgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yTWVzc2FnZS52dWUnCmltcG9ydCBUb3BIZWFkIGZyb20gJ0AvY29tcG9uZW50cy9Ub3BIZWFkLnZ1ZScKaW1wb3J0IFRvcEhlYWRBY3Rpb24gZnJvbSAnQC9jb21wb25lbnRzL1RvcEhlYWRBY3Rpb24udnVlJwppbXBvcnQgQ2hhdEZpZWxkIGZyb20gJ0AvY29tcG9uZW50cy9DaGF0RmllbGQudnVlJwoKaW1wb3J0IFJpY2hDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL1JpY2hDb21wb25lbnQudnVlJwppbXBvcnQgUmljaEJ1YmJsZSBmcm9tICdAL2NvbXBvbmVudHMvUmljaEJ1YmJsZS52dWUnCmltcG9ydCBSaWNoQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvUmljaENhcmQudnVlJwppbXBvcnQgUmljaENhcmRCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL1JpY2hDYXJkQnV0dG9uLnZ1ZScKaW1wb3J0IFJpY2hDYXJvdXNlbCBmcm9tICdAL2NvbXBvbmVudHMvUmljaENhcm91c2VsLnZ1ZScKaW1wb3J0IFJpY2hMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9SaWNoTGlzdC52dWUnCmltcG9ydCBSaWNoTGlzdEl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL1JpY2hMaXN0SXRlbS52dWUnCmltcG9ydCBSaWNoUGljdHVyZSBmcm9tICdAL2NvbXBvbmVudHMvUmljaFBpY3R1cmUudnVlJwppbXBvcnQgUmljaE1lZGlhIGZyb20gJ0AvY29tcG9uZW50cy9SaWNoTWVkaWEudnVlJwppbXBvcnQgUmljaFRhYmxlQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvUmljaFRhYmxlQ2FyZC52dWUnCmltcG9ydCBSaWNoU3VnZ2VzaW9uIGZyb20gJ0AvY29tcG9uZW50cy9SaWNoU3VnZ2VzdGlvbi52dWUnCgppbXBvcnQgKiBhcyB1dWlkdjEgZnJvbSAndXVpZC92MScKCmltcG9ydCB7IENsaWVudCB9IGZyb20gJ2RpYWxvZ2Zsb3ctZ2F0ZXdheScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdBcHAnLAogICAgY29tcG9uZW50czogewogICAgICAgIFdlbGNvbWVWaWV3LAogICAgICAgIEVycm9yTWVzc2FnZSwKICAgICAgICBUb3BIZWFkLAogICAgICAgIFRvcEhlYWRBY3Rpb24sCiAgICAgICAgQ2hhdEZpZWxkLAogICAgICAgIFJpY2hDb21wb25lbnQsCiAgICAgICAgUmljaEJ1YmJsZSwKICAgICAgICBSaWNoQ2FyZCwKICAgICAgICBSaWNoQ2FyZEJ1dHRvbiwKICAgICAgICBSaWNoQ2Fyb3VzZWwsCiAgICAgICAgUmljaExpc3QsCiAgICAgICAgUmljaExpc3RJdGVtLAogICAgICAgIFJpY2hQaWN0dXJlLAogICAgICAgIFJpY2hNZWRpYSwKICAgICAgICBSaWNoVGFibGVDYXJkLAogICAgICAgIFJpY2hTdWdnZXNpb24KICAgIH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWdlbnQ6IG51bGwsCiAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICAgICAgICBzZXNzaW9uOiAnJywKICAgICAgICAgICAgbXV0ZWQ6IHRydWUsCiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBlcnJvcjogbnVsbCwKICAgICAgICAgICAgY2xpZW50OiBuZXcgQ2xpZW50KHRoaXMuY29uZmlnLmVuZHBvaW50KSwKICAgICAgICAgICAgYXVkaW86IG5ldyBBdWRpbygpCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLyogVGhlIGNvZGUgYmVsb3cgaXMgdXNlZCB0byBleHRyYWN0IHN1Z2dlc3Rpb25zIGZyb20gbGFzdCBtZXNzYWdlLCB0byBkaXNwbGF5IGl0IG9uIENoYXRJbnB1dCAqLwogICAgICAgIHN1Z2dlc3Rpb25zKCl7CiAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VzLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgY29uc3QgbGFzdF9tZXNzYWdlID0gdGhpcy5tZXNzYWdlc1t0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDFdCiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0X3N1Z2dlc3Rpb25zID0gW10KICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtfc3VnZ2VzdGlvbnMgPSBbXQoKICAgICAgICAgICAgICAgIC8qIERpYWxvZ2Zsb3cgU3VnZ2VzdGlvbnMgKi8KICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IGluIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzKXsKICAgICAgICAgICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5zdWdnZXN0aW9ucykgdGV4dF9zdWdnZXN0aW9ucy5wdXNoKC4uLmxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0uc3VnZ2VzdGlvbnMuc3VnZ2VzdGlvbnMubWFwKHN1Z2dlc3Rpb24gPT4gc3VnZ2VzdGlvbi50aXRsZSkpCiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ubGlua091dFN1Z2dlc3Rpb24pIGxpbmtfc3VnZ2VzdGlvbnMucHVzaChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKQogICAgICAgICAgICAgICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnF1aWNrUmVwbGllcykgdGV4dF9zdWdnZXN0aW9ucy5wdXNoKC4uLmxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucXVpY2tSZXBsaWVzLnF1aWNrUmVwbGllcykKICAgICAgICAgICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5wYXlsb2FkICYmIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucGF5bG9hZC5yaWNoQ29udGVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucGF5bG9hZC5yaWNoQ29udGVudC5mb3JFYWNoKHN0YWNrID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaXBzID0gc3RhY2suZmluZChpdGVtID0+IGl0ZW0udHlwZSA9PSAnY2hpcHMnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaXBzKSBsaW5rX3N1Z2dlc3Rpb25zLnB1c2goLi4uY2hpcHMub3B0aW9ucykKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogR29vZ2xlIFN1Z2dlc3Rpb25zICovCiAgICAgICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkICYmIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUpewogICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IGluIGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUpewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtjb21wb25lbnRdLnN1Z2dlc3Rpb25zKSB0ZXh0X3N1Z2dlc3Rpb25zLnB1c2goLi4ubGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtjb21wb25lbnRdLnN1Z2dlc3Rpb25zLm1hcChzdWdnZXN0aW9uID0+IHN1Z2dlc3Rpb24udGl0bGUpKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtjb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKSBsaW5rX3N1Z2dlc3Rpb25zLnB1c2gobGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtjb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4ge3RleHRfc3VnZ2VzdGlvbnMsIGxpbmtfc3VnZ2VzdGlvbnN9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0ZXh0X3N1Z2dlc3Rpb25zOiB0aGlzLmNvbmZpZy5zdGFydF9zdWdnZXN0aW9ucyAvLyA8LSBpZiBubyBtZXNzYWdlcyBhcmUgcHJlc2VudCwgcmV0dXJuIHN0YXJ0X3N1Z2dlc3Rpb25zLCBmcm9tIGNvbmZpZy5qcyB0byBoZWxwIHVzZXIgZmlndXJlIG91dCB3aGF0IGhlIGNhbiBkbyB3aXRoIHlvdXIgYXBwbGljYXRpb24KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIC8qIFRoaXMgZnVuY3Rpb24gaXMgdHJpZ2dlcmVkLCB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmUgKi8KICAgICAgICBtZXNzYWdlcyhtZXNzYWdlcyl7CiAgICAgICAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbWVzc2FnZV9oaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKSAvLyA8LSBTYXZlIGhpc3RvcnkgaWYgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZAogICAgICAgIH0sCiAgICAgICAgLyogVGhpcyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQsIHdoZW4gcmVxdWVzdCBpcyBzdGFydGVkIG9yIGZpbmlzaGVkICovCiAgICAgICAgbG9hZGluZygpewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKSAvLyA8LSBXZSBuZWVkIHRvIHNjcm9sbCBkb3duICNhcHAsIHRvIHByZXZlbnQgdGhlIHdob2xlIHBhZ2UganVtcGluZyB0byBib3R0b20sIHdoZW4gdXNpbmcgaW4gaWZyYW1lCiAgICAgICAgICAgICAgICBpZiAoYXBwLnF1ZXJ5U2VsZWN0b3IoJyNtZXNzYWdlJykpewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhcHAucXVlcnlTZWxlY3RvckFsbCgnI21lc3NhZ2UnKVthcHAucXVlcnlTZWxlY3RvckFsbCgnI21lc3NhZ2UnKS5sZW5ndGggLSAxXS5vZmZzZXRUb3AgLSA3MAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7dG9wOiBtZXNzYWdlLCBiZWhhdmlvcjogJ3Ntb290aCd9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyKSAvLyA8LSB3YWl0IGZvciByZW5kZXIgKHRpbWVvdXQpIGFuZCB0aGVuIHNtb290aGx5IHNjcm9sbCAjYXBwIGRvd24gdG8gdGhlIGxhc3QgbWVzc2FnZQogICAgICAgIH0sCiAgICAgICAgLyogSWYgbXV0ZWQsIHN0b3AgcGxheWluZyBmZWVkYmFjayAqLwogICAgICAgIG11dGVkKG11dGVkKXsKICAgICAgICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IG11dGVkCiAgICAgICAgICAgIGlmIChtdXRlZCkgdGhpcy5zdG9wX2ZlZWRiYWNrKCkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIC8qIElmIGhpc3RvcnkgaXMgZW5hYmxlZCwgdGhlIG1lc3NhZ2VzIGFyZSByZXRyaWV2ZWQgZnJvbSBzZXNzaW9uU3RvcmFnZSAqLwogICAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtZXNzYWdlX2hpc3RvcnknKSAhPT0gbnVsbCl7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21lc3NhZ2VfaGlzdG9yeScpKQogICAgICAgIH0KCiAgICAgICAgLyogU2Vzc2lvbiBzaG91bGQgYmUgcGVyc2lzdGVudCAoaW4gY2FzZSBvZiBwYWdlIHJlbG9hZCwgdGhlIGNvbnRleHQgc2hvdWxkIHN0YXkpICovCiAgICAgICAgaWYgKHRoaXMuaGlzdG9yeSgpICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb24nKSAhPT0gbnVsbCl7CiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb24nKQogICAgICAgIH0KCiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHV1aWR2MSgpCiAgICAgICAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Vzc2lvbicsIHRoaXMuc2Vzc2lvbikKICAgICAgICB9CgogICAgICAgIC8qIENhY2hlIEFnZW50ICh0aGlzIHdpbGwgc2F2ZSBiYW5kd2l0aCkgKi8KICAgICAgICBpZiAodGhpcy5oaXN0b3J5KCkgJiYgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWdlbnQnKSAhPT0gbnVsbCl7CiAgICAgICAgICAgIHRoaXMuYWdlbnQgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FnZW50JykpCiAgICAgICAgfQoKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jbGllbnQuZ2V0KCkKICAgICAgICAgICAgLnRoZW4oYWdlbnQgPT4gewogICAgICAgICAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50CiAgICAgICAgICAgICAgICBpZiAodGhpcy5oaXN0b3J5KCkpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FnZW50JywgSlNPTi5zdHJpbmdpZnkoYWdlbnQpKQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLm1lc3NhZ2UKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHNlbmQoc3VibWlzc2lvbil7CiAgICAgICAgICAgIGxldCByZXF1ZXN0CgogICAgICAgICAgICAvKiBUZXh0IHJlcXVlc3QgKi8KICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb24udGV4dCl7CiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgICAgIHNlc3Npb246IHRoaXMuc2Vzc2lvbiwKICAgICAgICAgICAgICAgICAgICBxdWVyeUlucHV0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5sYW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyogQXVkaW8gcmVxdWVzdCAqLwogICAgICAgICAgICBlbHNlIGlmIChzdWJtaXNzaW9uLmF1ZGlvKXsKICAgICAgICAgICAgICAgIHRoaXMubXV0ZWQgPSBmYWxzZQoKICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5SW5wdXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db25maWc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvRW5jb2Rpbmc6ICdBVURJT19FTkNPRElOR19VTlNQRUNJRklFRCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGU6IHRoaXMubGFuZygpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGlucHV0QXVkaW86IHN1Ym1pc3Npb24uYXVkaW8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5zdG9wX2ZlZWRiYWNrKCkKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbAoKICAgICAgICAgICAgLyogU2VuZCB0aGUgcmVxdWVzdCB0byBlbmRwb2ludCAqLwogICAgICAgICAgICB0aGlzLmNsaWVudC5zZW5kKHJlcXVlc3QpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChyZXNwb25zZSkKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlKHJlc3BvbnNlKSAvLyA8LSB0cmlnZ2VyIHRoZSBoYW5kbGUgZnVuY3Rpb24gKGV4cGxhbmF0aW9uIGJlbG93KQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcoKSkgY29uc29sZS5sb2cocmVzcG9uc2UpIC8vIDwtIGxvZyByZXNwb25zZXMgaW4gZGV2ZWxvcG1lbnQgbW9kZQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLm1lc3NhZ2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpCiAgICAgICAgfSwKICAgICAgICBoYW5kbGUocmVzcG9uc2UpewogICAgICAgICAgICAvKiBIYW5kbGUgZGlhbG9nIGVuZCAqLwogICAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZGlhZ25vc3RpY0luZm8gJiYgcmVzcG9uc2UucXVlcnlSZXN1bHQuZGlhZ25vc3RpY0luZm8uZW5kX2NvbnZlcnNhdGlvbil7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmRpc2FibGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5taWNyb3Bob25lID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuc2hvdWxkX2xpc3RlbiA9IGZhbHNlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIFNwZWVjaCBvdXRwdXQgKi8KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm91dHB1dEF1ZGlvKXsKICAgICAgICAgICAgICAgIC8qIERldGVjdCBNSU1FIHR5cGUgKG9yIGZhbGxiYWNrIHRvIGRlZmF1bHQpICovCiAgICAgICAgICAgICAgICBjb25zdCBtaW1lID0gdGhpcy5jb25maWcuY29kZWNzW3Jlc3BvbnNlLm91dHB1dEF1ZGlvQ29uZmlnLmF1ZGlvRW5jb2RpbmddIHx8IHRoaXMuY29uZmlnLmNvZGVjcy5PVVRQVVRfQVVESU9fRU5DT0RJTkdfVU5TUEVDSUZJRUQKICAgICAgICAgICAgICAgIHRoaXMuYXVkaW8uc3JjID0gYGRhdGE6JHttaW1lfTtiYXNlNjQsJHtyZXNwb25zZS5vdXRwdXRBdWRpb31gCiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvLm9uZW5kZWQgPSAoKSA9PiB0aGlzLiRyZWZzLmlucHV0Lmxpc3RlbigpCgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLm11dGVkKSB0aGlzLmF1ZGlvLnBsYXkoKQogICAgICAgICAgICB9CgogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gJycgLy8gPC0gaW5pdCBhIHRleHQgdmFyaWFibGUKCiAgICAgICAgICAgICAgICAvKiBEaWFsb2dmbG93IFRleHQvU2ltcGxlUmVzcG9uc2VzICovCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBpbiByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzKXsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnRleHQpIHRleHQgKz0gYCR7cmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnRleHQudGV4dFswXX0uIGAKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlcyAmJiByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0uc2ltcGxlUmVzcG9uc2VzLnNpbXBsZVJlc3BvbnNlc1swXS50ZXh0VG9TcGVlY2gpIHRleHQgKz0gYCR7cmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlcy5zaW1wbGVSZXNwb25zZXNbMF0udGV4dFRvU3BlZWNofS4gYAogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucmJtVGV4dCkgdGV4dCArPSBgJHtyZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucmJtVGV4dC50ZXh0fS4gYAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qIEFjdGlvbnMgb24gR29vZ2xlIFNpbXBsZSByZXNwb25zZSAqLwogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkICYmIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZSl7CiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgaW4gcmVzcG9uc2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlLnJpY2hSZXNwb25zZS5pdGVtcyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUucmljaFJlc3BvbnNlLml0ZW1zW2NvbXBvbmVudF0uc2ltcGxlUmVzcG9uc2UgJiYgcmVzcG9uc2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlLnJpY2hSZXNwb25zZS5pdGVtc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlLnRleHRUb1NwZWVjaCkgdGV4dCArPSBgJHtyZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUucmljaFJlc3BvbnNlLml0ZW1zW2NvbXBvbmVudF0uc2ltcGxlUmVzcG9uc2UudGV4dFRvU3BlZWNofS4gYAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBzcGVlY2ggPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpCiAgICAgICAgICAgICAgICBzcGVlY2gudm9pY2VVUkkgPSB0aGlzLmNvbmZpZy52b2ljZQogICAgICAgICAgICAgICAgc3BlZWNoLmxhbmcgPSB0aGlzLmxhbmcoKQogICAgICAgICAgICAgICAgc3BlZWNoLm9uZW5kID0gKCkgPT4gdGhpcy4kcmVmcy5pbnB1dC5saXN0ZW4oKQoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5tdXRlZCkgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayhzcGVlY2gpIC8vIDwtIGlmIGFwcCBpcyBub3QgbXV0ZWQsIHNwZWFrIG91dCB0aGUgc3BlZWNoCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8qIFN0b3AgYXVkaW8gc3BlZWNoL3BsYXliYWNrICovCiAgICAgICAgc3RvcF9mZWVkYmFjaygpewogICAgICAgICAgICBpZiAod2luZG93LnNwZWVjaFN5bnRoZXNpcykgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKQogICAgICAgICAgICBpZiAodGhpcy5hdWRpbyAmJiAhdGhpcy5hdWRpby5wYXVzZWQpIHRoaXMuYXVkaW8ucGF1c2UoKQogICAgICAgIH0KICAgIH0KfQo="},null]}